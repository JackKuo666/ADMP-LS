# 对话历史导入导出功能

## 功能概述

本应用现在支持完整的对话历史导入导出功能，包括：

### 📤 导出功能
- **Markdown格式**: 导出为可读性强的Markdown文件
- **JSON格式**: 导出为结构化数据，便于程序处理
- **包含ToolMessage**: 完整保存所有工具执行信息
- **统计信息**: 包含消息类型统计和元数据

### 📥 导入功能
- **支持Markdown文件**: 可以导入之前导出的Markdown格式对话历史
- **支持JSON文件**: 可以导入JSON格式的对话历史
- **自动重命名**: 避免重复名称冲突
- **完整恢复**: 包括ToolMessage在内的所有信息

## 使用方法

### 导出对话历史
1. 在左侧边栏选择要导出的对话
2. 点击"📥 Export Chat History"区域
3. 选择导出格式（Markdown或JSON）
4. 点击下载按钮保存文件

### 导入对话历史
1. 在左侧边栏的"📁 Import Chat History"区域
2. 点击"Choose a chat history file"上传文件
3. 支持.md和.json格式
4. 点击"📥 Import Chat"按钮导入

## 文件格式说明

### Markdown格式特点
- 包含完整的对话内容
- 使用表情符号区分消息类型
- 包含ToolMessage的YAML格式显示
- 包含统计信息和元数据
- 适合人类阅读和分享

### JSON格式特点
- 结构化数据格式
- 包含所有原始数据
- 便于程序处理和API集成
- 支持完整的数据恢复

## 特殊功能

### Review工具支持
- 自动识别Literature Review Report
- 在导出文件中特殊标记
- 保持下载按钮功能

### ToolMessage处理
- 完整保存所有工具执行信息
- 支持YAML格式显示
- 在导入时正确恢复

## 注意事项

1. 导入的对话会生成新的Chat ID，避免冲突
2. 重复名称会自动添加时间戳后缀
3. 导入后会自动切换到导入的对话
4. 支持大文件导入，但建议单个文件不超过10MB 